{"ast":null,"code":"// App.js\nimport React,{useState,useEffect,useRef}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserSelection(_ref){let{onSelect}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"user-selection\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Who are you?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"user-selection-btn\",onClick:()=>onSelect(\"user_john\"),children:\"John\"}),/*#__PURE__*/_jsx(\"button\",{className:\"user-selection-btn\",onClick:()=>onSelect(\"user_mary\"),children:\"Mary\"})]});}function TypingAnimation(){return/*#__PURE__*/_jsxs(\"div\",{className:\"care-chat-typing\",\"aria-live\":\"polite\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Agent is typing\"}),/*#__PURE__*/_jsx(\"span\",{className:\"care-chat-typing-dot\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"care-chat-typing-dot\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"care-chat-typing-dot\",children:\"\\u2022\"})]});}function CareAssistantChat(_ref2){let{userId}=_ref2;const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");const[loading,setLoading]=useState(false);const[recording,setRecording]=useState(false);const[transcribing,setTranscribing]=useState(false);const mediaRecorderRef=useRef(null);const audioChunksRef=useRef([]);const chatEndRef=useRef(null);useEffect(()=>{if(userId){setLoading(true);fetch(\"/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:\"\",user_id:userId})}).then(res=>res.json()).then(data=>{setMessages([{sender:\"agent\",text:data.response}]);setLoading(false);});}},[userId]);useEffect(()=>{if(!userId)return;const checkFollowups=async()=>{try{const res=await fetch(\"/check-followups\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_id:userId})});const data=await res.json();if(data.followups&&data.followups.length>0){data.followups.forEach(followup=>{setMessages(msgs=>[...msgs,{sender:\"agent\",text:followup}]);});}}catch(error){console.error(\"Error checking follow-ups:\",error);}};checkFollowups();const interval=setInterval(checkFollowups,10000);return()=>clearInterval(interval);},[userId]);useEffect(()=>{// Scroll to bottom on new message\nif(chatEndRef.current){chatEndRef.current.scrollIntoView({behavior:\"smooth\"});}},[messages,loading]);const handleSend=async e=>{e.preventDefault();if(!input.trim())return;setMessages(msgs=>[...msgs,{sender:\"user\",text:input}]);setLoading(true);const res=await fetch(\"/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:input,user_id:userId})});const data=await res.json();setMessages(msgs=>[...msgs,{sender:\"agent\",text:data.response}]);setInput(\"\");setLoading(false);};const startRecording=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const mediaRecorder=new MediaRecorder(stream);audioChunksRef.current=[];mediaRecorder.ondataavailable=event=>{audioChunksRef.current.push(event.data);};mediaRecorder.onstop=async()=>{const audioBlob=new Blob(audioChunksRef.current,{type:'audio/webm'});const formData=new FormData();formData.append(\"audio\",audioBlob,\"recording.webm\");setTranscribing(true);try{const res=await fetch(\"/transcribe\",{method:\"POST\",body:formData});const data=await res.json();if(data.transcription){setInput(data.transcription);}else{console.error(\"Transcription failed:\",data.error);}}catch(err){console.error(\"Transcription error:\",err);alert(\"Failed to transcribe audio. Please try again.\");}finally{setTranscribing(false);}// Stop all tracks to release the microphone\nstream.getTracks().forEach(track=>track.stop());};mediaRecorderRef.current=mediaRecorder;mediaRecorder.start();setRecording(true);}catch(err){alert(\"Could not access microphone. Please check your permissions.\");console.error(\"Microphone access error:\",err);}};const stopRecording=()=>{if(mediaRecorderRef.current&&mediaRecorderRef.current.state!==\"inactive\"){mediaRecorderRef.current.stop();setRecording(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"app-root\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"care-chat-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"care-chat-title\",children:\"Care Assistant\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"care-chat-area\",children:[messages.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{className:`care-chat-message-row ${msg.sender}`,style:{justifyContent:msg.sender===\"user\"?\"flex-end\":\"flex-start\"},children:/*#__PURE__*/_jsxs(\"div\",{className:`care-chat-message ${msg.sender}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"care-chat-message-label\",children:msg.sender===\"user\"?\"You\":\"Agent\"}),/*#__PURE__*/_jsx(\"div\",{children:msg.text})]})},i)),loading&&/*#__PURE__*/_jsx(TypingAnimation,{}),recording&&/*#__PURE__*/_jsxs(\"div\",{className:\"recording-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"recording-dot\"}),\"Recording...\"]}),transcribing&&/*#__PURE__*/_jsx(\"div\",{className:\"transcribing-indicator\",children:\"Transcribing your message...\"}),/*#__PURE__*/_jsx(\"div\",{ref:chatEndRef})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"care-chat-form\",onSubmit:handleSend,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"care-chat-input\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type your message...\",disabled:loading||recording||transcribing,autoFocus:true}),!recording?/*#__PURE__*/_jsx(\"button\",{className:\"care-chat-mic-btn\",type:\"button\",onClick:startRecording,disabled:loading||transcribing,title:\"Record voice message\",children:\"\\uD83C\\uDFA4\"}):/*#__PURE__*/_jsx(\"button\",{className:\"care-chat-stop-btn\",type:\"button\",onClick:stopRecording,title:\"Stop recording\",children:\"\\u23F9\\uFE0F Stop\"}),/*#__PURE__*/_jsx(\"button\",{className:\"care-chat-send-btn\",type:\"submit\",disabled:loading||!input.trim()||recording||transcribing,children:\"Send\"})]})]})});}export default function App(){const[userId,setUserId]=useState(null);return/*#__PURE__*/_jsx(\"div\",{className:\"app-root\",children:!userId?/*#__PURE__*/_jsx(UserSelection,{onSelect:setUserId}):/*#__PURE__*/_jsx(CareAssistantChat,{userId:userId})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","UserSelection","_ref","onSelect","className","children","onClick","TypingAnimation","CareAssistantChat","_ref2","userId","messages","setMessages","input","setInput","loading","setLoading","recording","setRecording","transcribing","setTranscribing","mediaRecorderRef","audioChunksRef","chatEndRef","fetch","method","headers","body","JSON","stringify","message","user_id","then","res","json","data","sender","text","response","checkFollowups","followups","length","forEach","followup","msgs","error","console","interval","setInterval","clearInterval","current","scrollIntoView","behavior","handleSend","e","preventDefault","trim","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","ondataavailable","event","push","onstop","audioBlob","Blob","type","formData","FormData","append","transcription","err","alert","getTracks","track","stop","start","stopRecording","state","map","msg","i","style","justifyContent","ref","onSubmit","autoComplete","value","onChange","target","placeholder","disabled","autoFocus","title","App","setUserId"],"sources":["/Users/anirudh/Desktop/webdev/Problem statement/AiCaretakerForElderly/elderly-agent/frontend/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\n\nfunction UserSelection({ onSelect }) {\n  return (\n    <div className=\"user-selection\">\n      <h2>Who are you?</h2>\n      <button className=\"user-selection-btn\" onClick={() => onSelect(\"user_john\")}>John</button>\n      <button className=\"user-selection-btn\" onClick={() => onSelect(\"user_mary\")}>Mary</button>\n    </div>\n  );\n}\n\nfunction TypingAnimation() {\n  return (\n    <div className=\"care-chat-typing\" aria-live=\"polite\">\n      <span>Agent is typing</span>\n      <span className=\"care-chat-typing-dot\">•</span>\n      <span className=\"care-chat-typing-dot\">•</span>\n      <span className=\"care-chat-typing-dot\">•</span>\n    </div>\n  );\n}\n\nfunction CareAssistantChat({ userId }) {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [transcribing, setTranscribing] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const chatEndRef = useRef(null);\n\n  useEffect(() => {\n    if (userId) {\n      setLoading(true);\n      fetch(\"/chat\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ message: \"\", user_id: userId }),\n      })\n        .then(res => res.json())\n        .then(data => {\n          setMessages([{ sender: \"agent\", text: data.response }]);\n          setLoading(false);\n        });\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    if (!userId) return;\n    const checkFollowups = async () => {\n      try {\n        const res = await fetch(\"/check-followups\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ user_id: userId }),\n        });\n        const data = await res.json();\n        if (data.followups && data.followups.length > 0) {\n          data.followups.forEach(followup => {\n            setMessages(msgs => [...msgs, { sender: \"agent\", text: followup }]);\n          });\n        }\n      } catch (error) {\n        console.error(\"Error checking follow-ups:\", error);\n      }\n    };\n    checkFollowups();\n    const interval = setInterval(checkFollowups, 10000);\n    return () => clearInterval(interval);\n  }, [userId]);\n\n  useEffect(() => {\n    // Scroll to bottom on new message\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [messages, loading]);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setMessages(msgs => [...msgs, { sender: \"user\", text: input }]);\n    setLoading(true);\n    const res = await fetch(\"/chat\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ message: input, user_id: userId }),\n    });\n    const data = await res.json();\n    setMessages(msgs => [...msgs, { sender: \"agent\", text: data.response }]);\n    setInput(\"\");\n    setLoading(false);\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = event => {\n        audioChunksRef.current.push(event.data);\n      };\n\n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        const formData = new FormData();\n        formData.append(\"audio\", audioBlob, \"recording.webm\");\n\n        setTranscribing(true);\n        try {\n          const res = await fetch(\"/transcribe\", {\n            method: \"POST\",\n            body: formData,\n          });\n          const data = await res.json();\n          if (data.transcription) {\n            setInput(data.transcription);\n          } else {\n            console.error(\"Transcription failed:\", data.error);\n          }\n        } catch (err) {\n          console.error(\"Transcription error:\", err);\n          alert(\"Failed to transcribe audio. Please try again.\");\n        } finally {\n          setTranscribing(false);\n        }\n        \n        // Stop all tracks to release the microphone\n        stream.getTracks().forEach(track => track.stop());\n      };\n\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setRecording(true);\n    } catch (err) {\n      alert(\"Could not access microphone. Please check your permissions.\");\n      console.error(\"Microphone access error:\", err);\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n      mediaRecorderRef.current.stop();\n      setRecording(false);\n    }\n  };\n\n  return (\n    <div className=\"app-root\">\n      <div className=\"care-chat-container\">\n        <h1 className=\"care-chat-title\">Care Assistant</h1>\n        <div className=\"care-chat-area\">\n          {messages.map((msg, i) => (\n            <div\n              key={i}\n              className={`care-chat-message-row ${msg.sender}`}\n              style={{ justifyContent: msg.sender === \"user\" ? \"flex-end\" : \"flex-start\" }}\n            >\n              <div className={`care-chat-message ${msg.sender}`}>\n                <div className=\"care-chat-message-label\">\n                  {msg.sender === \"user\" ? \"You\" : \"Agent\"}\n                </div>\n                <div>{msg.text}</div>\n              </div>\n            </div>\n          ))}\n          {loading && <TypingAnimation />}\n          {recording && (\n            <div className=\"recording-indicator\">\n              <span className=\"recording-dot\"></span>\n              Recording...\n            </div>\n          )}\n          {transcribing && (\n            <div className=\"transcribing-indicator\">\n              Transcribing your message...\n            </div>\n          )}\n          <div ref={chatEndRef} />\n        </div>\n        <form className=\"care-chat-form\" onSubmit={handleSend} autoComplete=\"off\">\n          <input\n            className=\"care-chat-input\"\n            value={input}\n            onChange={e => setInput(e.target.value)}\n            placeholder=\"Type your message...\"\n            disabled={loading || recording || transcribing}\n            autoFocus\n          />\n          {!recording ? (\n            <button\n              className=\"care-chat-mic-btn\"\n              type=\"button\"\n              onClick={startRecording}\n              disabled={loading || transcribing}\n              title=\"Record voice message\"\n            >\n              🎤\n            </button>\n          ) : (\n            <button\n              className=\"care-chat-stop-btn\"\n              type=\"button\"\n              onClick={stopRecording}\n              title=\"Stop recording\"\n            >\n              ⏹️ Stop\n            </button>\n          )}\n          <button\n            className=\"care-chat-send-btn\"\n            type=\"submit\"\n            disabled={loading || !input.trim() || recording || transcribing}\n          >\n            Send\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default function App() {\n  const [userId, setUserId] = useState(null);\n  return (\n    <div className=\"app-root\">\n      {!userId ? <UserSelection onSelect={setUserId} /> : <CareAssistantChat userId={userId} />}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
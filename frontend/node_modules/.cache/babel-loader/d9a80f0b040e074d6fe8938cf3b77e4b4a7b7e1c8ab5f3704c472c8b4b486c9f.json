{"ast":null,"code":"var _jsxFileName = \"/Users/anirudh/Desktop/Problem statement/AiCaretakerForElderly/elderly-agent/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect } from \"react\";\n\n// User selection component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserSelection({\n  onSelect\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: 100\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Who are you?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => onSelect(\"user_john\"),\n      style: {\n        margin: 10,\n        padding: 10,\n        fontSize: 18\n      },\n      children: \"John\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => onSelect(\"user_mary\"),\n      style: {\n        margin: 10,\n        padding: 10,\n        fontSize: 18\n      },\n      children: \"Mary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n// Chat UI component\n_c = UserSelection;\nfunction CareAssistantChat({\n  userId\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // On mount (or when userId changes), get agent greeting\n  useEffect(() => {\n    if (userId) {\n      setLoading(true);\n      fetch(\"/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          message: \"\",\n          user_id: userId\n        })\n      }).then(res => res.json()).then(data => {\n        setMessages([{\n          sender: \"agent\",\n          text: data.response\n        }]);\n        setLoading(false);\n      });\n    }\n  }, [userId]);\n\n  // Handle sending a message\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setMessages(msgs => [...msgs, {\n      sender: \"user\",\n      text: input\n    }]);\n    setLoading(true);\n    const res = await fetch(\"/chat\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message: input,\n        user_id: userId\n      })\n    });\n    const data = await res.json();\n    setMessages(msgs => [...msgs, {\n      sender: \"agent\",\n      text: data.response\n    }]);\n    setInput(\"\");\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 800,\n      margin: \"40px auto\",\n      fontFamily: \"sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Care Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        borderRadius: 8,\n        padding: 24,\n        minHeight: 200,\n        background: \"#fafbfc\"\n      },\n      children: [messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"12px 0\",\n          textAlign: msg.sender === \"user\" ? \"right\" : \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: [msg.sender === \"user\" ? \"You\" : \"Agent\", \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), \" \", msg.text]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#888\"\n        },\n        children: \"Agent is typing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSend,\n      style: {\n        marginTop: 16,\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        style: {\n          flex: 1,\n          fontSize: 16,\n          padding: 8\n        },\n        placeholder: \"Type your message...\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          marginLeft: 8,\n          fontSize: 16\n        },\n        disabled: loading,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n// Main App\n_s(CareAssistantChat, \"tTZHsGuJiuRrPZWpbhI7lMkMgDc=\");\n_c2 = CareAssistantChat;\nexport default function App() {\n  _s2();\n  const [userId, setUserId] = useState(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !userId ? /*#__PURE__*/_jsxDEV(UserSelection, {\n      onSelect: setUserId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(CareAssistantChat, {\n      userId: userId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"dOQJTvapDsdvUKZbMa1ra7a4HrM=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"UserSelection\");\n$RefreshReg$(_c2, \"CareAssistantChat\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","UserSelection","onSelect","style","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","margin","padding","fontSize","_c","CareAssistantChat","userId","_s","messages","setMessages","input","setInput","loading","setLoading","fetch","method","headers","body","JSON","stringify","message","user_id","then","res","json","data","sender","text","response","handleSend","e","preventDefault","trim","msgs","maxWidth","fontFamily","border","borderRadius","minHeight","background","map","msg","i","color","onSubmit","display","value","onChange","target","flex","placeholder","disabled","type","marginLeft","_c2","App","_s2","setUserId","_c3","$RefreshReg$"],"sources":["/Users/anirudh/Desktop/Problem statement/AiCaretakerForElderly/elderly-agent/frontend/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect } from \"react\";\n\n// User selection component\nfunction UserSelection({ onSelect }) {\n  return (\n    <div style={{ textAlign: \"center\", marginTop: 100 }}>\n      <h2>Who are you?</h2>\n      <button onClick={() => onSelect(\"user_john\")} style={{ margin: 10, padding: 10, fontSize: 18 }}>John</button>\n      <button onClick={() => onSelect(\"user_mary\")} style={{ margin: 10, padding: 10, fontSize: 18 }}>Mary</button>\n    </div>\n  );\n}\n\n// Chat UI component\nfunction CareAssistantChat({ userId }) {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // On mount (or when userId changes), get agent greeting\n  useEffect(() => {\n    if (userId) {\n      setLoading(true);\n      fetch(\"/chat\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ message: \"\", user_id: userId }),\n      })\n        .then(res => res.json())\n        .then(data => {\n          setMessages([{ sender: \"agent\", text: data.response }]);\n          setLoading(false);\n        });\n    }\n  }, [userId]);\n\n  // Handle sending a message\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setMessages(msgs => [...msgs, { sender: \"user\", text: input }]);\n    setLoading(true);\n    const res = await fetch(\"/chat\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ message: input, user_id: userId }),\n    });\n    const data = await res.json();\n    setMessages(msgs => [...msgs, { sender: \"agent\", text: data.response }]);\n    setInput(\"\");\n    setLoading(false);\n  };\n\n  return (\n    <div style={{ maxWidth: 800, margin: \"40px auto\", fontFamily: \"sans-serif\" }}>\n      <h1>Care Assistant</h1>\n      <div style={{\n        border: \"1px solid #ccc\",\n        borderRadius: 8,\n        padding: 24,\n        minHeight: 200,\n        background: \"#fafbfc\"\n      }}>\n        {messages.map((msg, i) => (\n          <div key={i} style={{\n            margin: \"12px 0\",\n            textAlign: msg.sender === \"user\" ? \"right\" : \"left\"\n          }}>\n            <b>{msg.sender === \"user\" ? \"You\" : \"Agent\"}:</b> {msg.text}\n          </div>\n        ))}\n        {loading && <div style={{ color: \"#888\" }}>Agent is typing...</div>}\n      </div>\n      <form onSubmit={handleSend} style={{ marginTop: 16, display: \"flex\" }}>\n        <input\n          value={input}\n          onChange={e => setInput(e.target.value)}\n          style={{ flex: 1, fontSize: 16, padding: 8 }}\n          placeholder=\"Type your message...\"\n          disabled={loading}\n        />\n        <button type=\"submit\" style={{ marginLeft: 8, fontSize: 16 }} disabled={loading}>\n          Send\n        </button>\n      </form>\n    </div>\n  );\n}\n\n// Main App\nexport default function App() {\n  const [userId, setUserId] = useState(null);\n\n  return (\n    <div>\n      {!userId\n        ? <UserSelection onSelect={setUserId} />\n        : <CareAssistantChat userId={userId} />\n      }\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}